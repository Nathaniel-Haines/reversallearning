{
    "collab_server" : "",
    "contents" : "#install.packages(\"R.matlab\")\nlibrary(R.matlab)\n#install.packages('data.table')\nlibrary(data.table)\n#install.packages('ggplot2')\nlibrary(ggplot2)\nmat.data<-readMat(\"RL_behav/rlp_sub102_run1_09-Mar_10-18.mat\")\nsub.data<-as.data.frame(mat.data$RL)\ncolnames(sub.data)<-\n  c(\"ID\",\"trial\",\"cor_res\",\"Condition\",\"response_key\",\"reaction_time\",\n    \"score\",\"onset_time_designed\",\"onset_time_actual\",\n    \"reversal_trial\",\"runid\",\"blockid\")\n\n# MID=1; %\n#   %Mtrial=2; %\n#   % Mcrres=3; % Correct Response\n#  Mcond=4; % 1: reversal; 2: control\n#  Mres=5; % left or right key. counterbalance across subjects;\n#  MRT=6; % reaction time;\n#  Mscore=7; % 1: correct; -1: wrong; 0: no response\n#  Monset=8; % designed trial onset time\n#  MAonset=9; % actually trial onset time\n#  Misrev=10; % is this trial a reversal one?\n#  Mrunid=11; % is this trial a reversal one?\n#  Mblockid=12; % is this trial a reversal one?\n\n#get order for \n\naggregate(sub.data$onset_time_actual,\n          by=list(sub.data$trial),\n          order)\n\nsub.data.table<-data.table(sub.data)\n\nsub.data.table[,presentation_n:=.(order(onset_time_actual)),by=trial]\n\n#now plot % correct scores for each presentation across trials\nsub.data.table[,correct:=.(score==1)]\n#this will consider a \"no response\" as incorrect\n\n#now we want to calculate proportion of correct responses ACROSS trials for each presentation.\nsub.data.table[,sum(correct)/length(correct),presentation_n]\nsub.accuracy.by.pres<-sub.data.table[,.(prop.correct=sum(correct)/.N),presentation_n]\n\n\nggplot(sub.accuracy.by.pres,aes(x=presentation_n,y=prop.correct))+geom_line()\n",
    "created" : 1484094108211.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3683596030",
    "id" : "51E0DF6F",
    "lastKnownWriteTime" : 1484098467,
    "last_content_update" : 1484098467887,
    "path" : "~/Google Drive/joint-modeling/reversal-learning/behavioral-analysis/rl_behav_analysis_learning_one_subject.R",
    "project_path" : "rl_behav_analysis_learning_one_subject.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}